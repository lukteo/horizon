# NATS Server Configuration for Horizon

# Server Options
server_name: horizon-nats-server
port: 4222
http_port: 8222

# Authorization
authorization {
  user: horizon_user
  password: horizon_nats_pass
  timeout: 2
}

# Enable JetStream
jetstream {
  store_dir: /data/jetstream
  max_memory_store: 1GB
  max_file_store: 10GB
}

# Logging
debug: false
trace: false
log_file: "/tmp/nats-server.log"

# Accounts
accounts {
  HORIZON {
    users [
      {
        user: horizon_ingest
        password: ingest_pass
      },
      {
        user: horizon_process
        password: process_pass
      }
    ]
    exports [
      { stream: "logs.>" }
      { service: "sigma.process" }
    ]
  }
  DEFAULT { }
}